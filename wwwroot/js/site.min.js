function colorRows(){function f(n,t,i){return n>=t&&n<=i}var u={"0-0.33":"red-sentiment","0.33-0.66":"yellow-sentiment","0.66-1.00":"green-sentiment"},n,t,i,r;$("tr").each(function(){r=$(this);n=parseFloat($(this).attr("data-color"));$.each(u,function(u,e){t=parseFloat(u.split("-")[0]);i=parseFloat(u.split("-")[1]);f(n,t,i)&&r.addClass(e)})})}function topicsTable(){var n=$("#topics").DataTable({ajax:"../data/trendingtopics/",columnDefs:[{targets:0,responsivePriority:5},{targets:1,data:null,responsivePriority:1,render:function(n,t,i){return'<a href="topics/detail/'+i.id+'">'+n+"<\/a>"}},{targets:2,data:null,responsivePriority:2,render:function(n){return(n*100).toFixed(1).toString()+"%"}}],columns:[{data:"score"},{data:"keyPhrase"},{data:"averageSentiment"}]});n.column("0:visible").order("desc").draw()}function allSourcesTable(){$("#sources").DataTable({ajax:"../data/allsources",columnDefs:[{targets:0,responsivePriority:1,data:null,render:function(n,t,i){return'<a href="sources/detail/'+i.Id+'">'+n+"<\/a>"}}],columns:[{data:"Name"},{data:"Description"}]})}function articlesTable(){var n=$("#articles").DataTable()}function sourceDetailTable(n){var t="../../data/source/".concat(n);$("#sources").DataTable({ajax:t,columnDefs:[{targets:0,responsivePriority:1},{targets:1,responsivePriority:3},{targets:3,responsivePriority:2,data:null,render:function(n){return(n*100).toFixed(1).toString()+"%"}}],columns:[{data:"Title"},{data:"Author"},{data:"Description"},{data:"Sentiment"}]})}function loadTrendPlot(n){function f(t,i,r){var u=[{x:t,y:i,name:"Count",type:"scatter"},{x:t,y:r,name:"Sentiment",yaxis:"y2",type:"scatter"}],f={title:n,xaxis:{title:"Date",showgrid:!0,zeroline:!1},yaxis:{title:"Reference Count",showline:!1},yaxis2:{title:"Sentiment",titlefont:{color:"rgb(148, 103, 189)"},tickfont:{color:"rgb(148, 103, 189)"},overlaying:"y",side:"right"}};Plotly.newPlot("myDiv",u,f);$(".loader").remove()}var u="../../Data/Trend/"+n,t=[],i=[],r=[];$.ajax({url:u,context:document.body,success:function(n){n.data.forEach(function(n){t.push(n.Day);i.push(n.Num);r.push(n.AverageSentiment)});f(t,i,r)}})}